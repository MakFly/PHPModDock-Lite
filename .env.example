###########################################################
# PHPMODDOCK-LITE - Environment Configuration
# Compatible with Laravel & Symfony projects
###########################################################

###########################################################
# General Settings
###########################################################

# Project paths
APP_CODE_PATH_HOST=./projects
APP_CODE_PATH_CONTAINER=/var/www
APP_CODE_CONTAINER_FLAG=:cached

# Data path for persistent volumes
DATA_PATH_HOST=~/.phpmoddock-lite/data

# Timezone
WORKSPACE_TIMEZONE=UTC

###########################################################
# PHP Settings
###########################################################

# PHP Version (8.1, 8.2, 8.3, 8.4)
PHP_VERSION=8.3

# PHP-FPM
PHP_FPM_INSTALL_XDEBUG=true
PHP_FPM_INSTALL_PHPREDIS=true
PHP_FPM_INSTALL_OPCACHE=true
PHP_FPM_INSTALL_MYSQLI=true
PHP_FPM_INSTALL_INTL=true
PHP_FPM_INSTALL_IMAGEMAGICK=true
PHP_FPM_INSTALL_ZIP_ARCHIVE=true
PHP_FPM_INSTALL_BCMATH=true
PHP_FPM_INSTALL_MEMCACHED=false
PHP_FPM_INSTALL_EXIF=true
PHP_FPM_INSTALL_PGSQL=true
PHP_FPM_INSTALL_GD=true
PHP_FPM_INSTALL_PDO_MYSQL=true
PHP_FPM_INSTALL_PDO_PGSQL=true

# XDebug Configuration
XDEBUG_MODE=off
XDEBUG_CLIENT_HOST=host.docker.internal
XDEBUG_CLIENT_PORT=9003
XDEBUG_IDE_KEY=VSCODE
XDEBUG_START_WITH_REQUEST=yes

# PHP IDE Configuration
PHP_IDE_CONFIG=serverName=phpmoddock-lite

###########################################################
# FrankenPHP Settings
###########################################################

# FrankenPHP Ports (Single Instance, Multi-Project with HTTPS)
FRANKENPHP_HTTP_PORT=80
FRANKENPHP_HTTPS_PORT=443

# FrankenPHP Worker Mode (for production)
FRANKENPHP_NUM_WORKERS=2
FRANKENPHP_NUM_THREADS=4

# FrankenPHP Install Options
FRANKENPHP_INSTALL_NODE=true

###########################################################
# Workspace (Development Container)
###########################################################

WORKSPACE_INSTALL_NODE=true
WORKSPACE_NODE_VERSION=20
WORKSPACE_INSTALL_YARN=true
WORKSPACE_INSTALL_PNPM=true
WORKSPACE_INSTALL_NPM_GULP=false
WORKSPACE_INSTALL_SYMFONY_CLI=true
WORKSPACE_INSTALL_LARAVEL_INSTALLER=true
WORKSPACE_INSTALL_PHPREDIS=true
WORKSPACE_INSTALL_XDEBUG=true
WORKSPACE_INSTALL_GIT=true
WORKSPACE_INSTALL_MYSQL_CLIENT=true
WORKSPACE_INSTALL_PGSQL_CLIENT=true
WORKSPACE_PUID=1000
WORKSPACE_PGID=1000
WORKSPACE_SSH_PORT=2222

# Composer
WORKSPACE_COMPOSER_VERSION=2
WORKSPACE_COMPOSER_GLOBAL_INSTALL=true
WORKSPACE_COMPOSER_AUTH=false

###########################################################
# Nginx Settings
###########################################################

NGINX_HOST_HTTP_PORT=80
NGINX_HOST_HTTPS_PORT=443
NGINX_HOST_LOG_PATH=./logs/nginx/
NGINX_SITES_PATH=./services/nginx/sites/
NGINX_PHP_UPSTREAM_CONTAINER=php-fpm
NGINX_PHP_UPSTREAM_PORT=9000

###########################################################
# MySQL Settings
###########################################################

MYSQL_VERSION=8.0
MYSQL_DATABASE=default
MYSQL_USER=default
# ⚠️ SECURITY WARNING: Change these default passwords before production use!
# Generate strong passwords: openssl rand -hex 16
MYSQL_PASSWORD=CHANGE_ME_secret
MYSQL_ROOT_PASSWORD=CHANGE_ME_root
MYSQL_PORT=3306
MYSQL_ENTRYPOINT_INITDB=./services/mysql/docker-entrypoint-initdb.d

###########################################################
# PostgreSQL Settings
###########################################################

POSTGRES_VERSION=16-alpine
POSTGRES_DB=default
POSTGRES_USER=default
# ⚠️ SECURITY WARNING: Change default password before production use!
POSTGRES_PASSWORD=CHANGE_ME_secret
POSTGRES_PORT=5432
POSTGRES_ENTRYPOINT_INITDB=./services/postgres/docker-entrypoint-initdb.d

###########################################################
# Redis Settings
###########################################################

REDIS_PORT=6379
REDIS_PASSWORD=

###########################################################
# RabbitMQ Settings
###########################################################

RABBITMQ_NODE_HOST_PORT=5672
RABBITMQ_MANAGEMENT_HTTP_HOST_PORT=15672
# ⚠️ SECURITY WARNING: Change default credentials before production use!
RABBITMQ_DEFAULT_USER=CHANGE_ME_guest
RABBITMQ_DEFAULT_PASS=CHANGE_ME_guest

###########################################################
# Mailhog Settings
###########################################################

MAILHOG_HTTP_PORT=8025
MAILHOG_SMTP_PORT=1025

###########################################################
# Elasticsearch Settings
###########################################################

ELASTICSEARCH_VERSION=8.11.0
ELASTICSEARCH_HOST_HTTP_PORT=9200
ELASTICSEARCH_HOST_TRANSPORT_PORT=9300

###########################################################
# Meilisearch Settings
###########################################################

MEILISEARCH_HOST_PORT=7700
MEILISEARCH_KEY=masterKey

###########################################################
# Adminer Settings
###########################################################

ADMINER_PORT=8081
ADMINER_DEFAULT_SERVER=mysql
ADMINER_DESIGN=pepa-linha

###########################################################
# Redis Commander Settings
###########################################################

REDIS_COMMANDER_PORT=8082

###########################################################
# Dozzle Settings
###########################################################

DOZZLE_PORT=8888

###########################################################
# Docker Compose Profiles
# Available profiles: minimal, full, laravel, symfony, development
###########################################################

# Profile to use (leave empty for default)
# Using 'frankenphp' profile for modern PHP application server
# Adding 'development' profile for Adminer, Redis Commander, Mailhog, and Dozzle
COMPOSE_PROFILES=frankenphp,development

###########################################################
# Network Settings
###########################################################

NETWORKS_DRIVER=bridge

###########################################################
# Docker Host IP
###########################################################

DOCKER_HOST_IP=10.0.75.1
